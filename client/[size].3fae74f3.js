import{S as t,i as e,s as n,e as l,c as s,b as r,d as o,h as a,j as i,k as c,n as f,p as h,r as u,u as g,v as d,o as m,w as p,a as x,f as $,x as v,y as j,z,A as E,m as O,t as w,g as y,l as I}from"./client.f3437702.js";function M(t){let e,n,h;return{c(){e=l("div"),n=l("img"),this.h()},l(t){e=s(t,"DIV",{class:!0});var l=r(e);n=s(l,"IMG",{class:!0,src:!0,alt:!0}),l.forEach(o),this.h()},h(){a(n,"class","rounded-md"),n.src!==(h=t[0])&&a(n,"src",h),a(n,"alt",""),a(e,"class","ratio-16-9 img-container")},m(t,l){i(t,e,l),c(e,n)},p(t,[e]){1&e&&n.src!==(h=t[0])&&a(n,"src",h)},i:f,o:f,d(t){t&&o(e)}}}function D(t,e,n){let{url:l}=e;return t.$$set=t=>{"url"in t&&n(0,l=t.url)},[l]}class V extends t{constructor(t){super(),e(this,t,D,M,n,{url:0})}}function L(t,e,n){const l=t.slice();return l[13]=e[n],l}function N(t,e,n){const l=t.slice();return l[10]=e[n],l}function B(t){let e,n,c,f=t[1],h=[];for(let e=0;e<f.length;e+=1)h[e]=b(N(t,f,e));const m=t=>u(h[t],1,1,()=>{h[t]=null});return{c(){e=l("div");for(let t=0;t<h.length;t+=1)h[t].c();this.h()},l(t){e=s(t,"DIV",{class:!0});var n=r(e);for(let t=0;t<h.length;t+=1)h[t].l(n);n.forEach(o),this.h()},h(){a(e,"class",n="grid grid-rows-"+t[3]+" gap-4 h-full")},m(t,n){i(t,e,n);for(let t=0;t<h.length;t+=1)h[t].m(e,null);c=!0},p(t,n){if(18&n){let l;for(f=t[1],l=0;l<f.length;l+=1){const s=N(t,f,l);h[l]?(h[l].p(s,n),d(h[l],1)):(h[l]=b(s),h[l].c(),d(h[l],1),h[l].m(e,null))}for(p(),l=f.length;l<h.length;l+=1)m(l);g()}},i(t){if(!c){for(let t=0;t<f.length;t+=1)d(h[t]);c=!0}},o(t){h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)u(h[t]);c=!1},d(t){t&&o(e),O(h,t)}}}function H(t){let e,n,h,u,g,d,m,p=(t[0].indexOf("x")>0?`${t[3]}x${t[4]}`:t[0])+"";return{c(){e=l("div"),n=l("h1"),h=w("Lo sentimos"),u=x(),g=l("h2"),d=w("No tenemos un juego\r\n      "),m=w(p),this.h()},l(t){e=s(t,"DIV",{class:!0});var l=r(e);n=s(l,"H1",{});var a=r(n);h=y(a,"Lo sentimos"),a.forEach(o),u=$(l),g=s(l,"H2",{});var i=r(g);d=y(i,"No tenemos un juego\r\n      "),m=y(i,p),i.forEach(o),l.forEach(o),this.h()},h(){a(e,"class","flex flex-col text-center justify-center content-center h-full")},m(t,l){i(t,e,l),c(e,n),c(n,h),c(e,u),c(e,g),c(g,d),c(g,m)},p(t,e){1&e&&p!==(p=(t[0].indexOf("x")>0?`${t[3]}x${t[4]}`:t[0])+"")&&I(m,p)},i:f,o:f,d(t){t&&o(e)}}}function S(t){let e,n;return e=new V({props:{url:t[13].url}}),{c(){v(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){z(e,t,l),n=!0},p(t,n){const l={};2&n&&(l.url=t[13].url),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){u(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function b(t){let e,n,f,h,m=t[10],v=[];for(let e=0;e<m.length;e+=1)v[e]=S(L(t,m,e));const j=t=>u(v[t],1,1,()=>{v[t]=null});return{c(){e=l("div");for(let t=0;t<v.length;t+=1)v[t].c();n=x(),this.h()},l(t){e=s(t,"DIV",{class:!0});var l=r(e);for(let t=0;t<v.length;t+=1)v[t].l(l);n=$(l),l.forEach(o),this.h()},h(){a(e,"class",f="grid grid-cols-"+t[4]+" gap-4")},m(t,l){i(t,e,l);for(let t=0;t<v.length;t+=1)v[t].m(e,null);c(e,n),h=!0},p(t,l){if(2&l){let s;for(m=t[10],s=0;s<m.length;s+=1){const r=L(t,m,s);v[s]?(v[s].p(r,l),d(v[s],1)):(v[s]=S(r),v[s].c(),d(v[s],1),v[s].m(e,n))}for(p(),s=m.length;s<v.length;s+=1)j(s);g()}},i(t){if(!h){for(let t=0;t<m.length;t+=1)d(v[t]);h=!0}},o(t){v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)u(v[t]);h=!1},d(t){t&&o(e),O(v,t)}}}function k(t){let e,n,l,s;const r=[H,B],a=[];function c(t,e){return t[2]?0:1}return e=c(t),n=a[e]=r[e](t),{c(){n.c(),l=h()},l(t){n.l(t),l=h()},m(t,n){a[e].m(t,n),i(t,l,n),s=!0},p(t,[s]){let o=e;e=c(t),e===o?a[e].p(t,s):(p(),u(a[o],1,1,()=>{a[o]=null}),g(),n=a[e],n||(n=a[e]=r[e](t),n.c()),d(n,1),n.m(l.parentNode,l))},i(t){s||(d(n),s=!0)},o(t){u(n),s=!1},d(t){a[e].d(t),t&&o(l)}}}async function A({params:t}){const{size:e,id:n}=t;return{size:e,id:n}}function G(t,e,n){let{size:l}=e,{id:s}=e;const r=l.split("x")[0],o=l.split("x")[1];let a,i,c,f=[];return m(async()=>{if(r<=6&&o<=5&&l.indexOf("x")){let t=await fetch("https://apiemparejados.jeisontech.dev/images/?"+new URLSearchParams({category:s,page_size:a/2})).then(t=>t.json());f=t.results;let e=function(t){let e=[];for(;e.length<t;){console.log(e.length,t,f.length);let n=Math.floor(Math.random()*f.length)+1;-1===e.indexOf(n)&&e.push(n)}return console.log(e),e}(a/2);n(1,i=function(t,e,n){let l=[];for(;l.length<a;){let n=Math.floor(Math.random()*(t*e)/2)+1,s=l.indexOf(n);(-1===s||-1==l.indexOf(n,s+1))&&l.push(n)}let s=[],r=0;for(let o=0;o<t;o++){let t=[];for(let s=0;s<e;s++)t.push(f[n[l[r]-1]-1]),r++;s.push(t)}return s}(r,o,e))}else n(2,c=!0)}),t.$$set=t=>{"size"in t&&n(0,l=t.size),"id"in t&&n(5,s=t.id)},a=r*o,n(1,i=[]),n(2,c=!1),[l,i,c,r,o,s]}export default class extends t{constructor(t){super(),e(this,t,G,k,n,{size:0,id:5})}}export{A as preload};
